# -*- coding: utf-8 -*-
#:import C kivy.utils.get_color_from_hex
#:import FadeTransition kivy.uix.screenmanager.FadeTransition

<SMAgro>:
    ScreenManager:
        transition: FadeTransition()
        id: kivy_screen_manager
        StartScreen:
            name: 'start_screen'

        EquipamentoScreen:
            id: equipamento_screen
            name: 'equipamento_screen'

        ConfiguracoesScreen:
            id: configuracoes_screen
            name: "configuracoes_screen"

#Tela inicial
<StartScreen@Screen>:
    canvas:
        Color:
            rgb: C('#111111')
        Rectangle:
            pos: self.pos
            size: self.size

    #Inicia Layout da tela inicial
    FloatLayout:
        pos_hint: {'center_y': 0.5, 'center_x': 0.5}
        size_hint: 0.45, 0.48

        Label:
            id: lbl_start_home
            text: 'SMAgro '
            color: [0,0,0,.200]
            font_size: '50sp'
            font_name: '../data/fonts/Segoe_UI.ttf'
            pos_hint: {'y': .8, 'center_x': 0.5}

        #Inicia botão de equipamentos
        Button:
            background_color: C('#00B357')
            background_normal: ''
            text: 'Equipamentos'
            font_name: '../data/fonts/Segoe_UI.ttf'
            pos_hint: {'center_x': 0.5, 'y': 0.380}
            size_hint: 1.50, 0.625
            text_size: self.size
            padding: 8, 8
            on_press: root.manager.current = 'equipamento_screen'
            Image:
                source: '../data/img/Truck-96.png'
                y: self.parent.y + self.parent.height - 100
                x: self.parent.x + self.parent.height - 30

        #Inicia botão de configurações
        Button:
            background_color: C('#00B357')
            background_normal: ''
            text: 'Configuracoes'
            font_name: '../data/fonts/Segoe_UI.ttf'
            pos_hint: {'center_x': .125, 'y': 0}
            size_hint: 0.747, 0.375
            text_size: self.size
            padding: 8, 8
            on_press: root.manager.current = 'configuracoes_screen'
            Image:
                source: '../data/img/Settings-64.png'
                y: self.parent.y + self.parent.height - 90
                x: self.parent.x + self.parent.height - 60

        #Inicia botão do roteizador
        Button:
            background_color: C('#00B357')
            background_normal: ''
            text: 'Routerizador'
            font_name: '../data/fonts/Segoe_UI.ttf'
            pos_hint: {'center_x': .875, 'y': 0}
            size_hint: 0.748, 0.375
            text_size: self.size
            padding: 8, 8
            on_press:
            Image:
                source: '../data/img/GPS Device-64.png'
                y: self.parent.y + self.parent.height - 90
                x: self.parent.x + self.parent.height - 60

<EquipamentoScreen@Screen>:
    canvas:
        Color:
            rgb: C('#111111')
        Rectangle:
            pos: self.pos
            size: self.size
    BoxLayout:
        orientation: 'vertical'
        padding: 40
        pos_hint: {'center_y': 0.6, 'center_x': 0.5}

        Button:
            on_press: root.manager.current = 'start_screen'
            id: btn_back
            size_hint: None, None
            pos_hint: {'right': 0.1 , 'y': 0.01}
            background_normal: ''
            background_color: C('#111111')
            Image:
                source: '../data/img/Return-64.png'
                center_x: self.parent.center_x
                center_y: self.parent.center_y
                size: 35, 35
                allow_stretch: True

        Label:
            id: lbl_medicao
            text: 'Informe a medição inicial:'
            font_size: '20sp'
            font_name: '../data/fonts/Segoe_UI.ttf'
            halign: 'center'

        TextInput:
            id: txtInp_medicao
            text: ''
            font_size: '20sp'
            font_name: '../data/fonts/Segoe_UI.ttf'
            size_hint: 0.2, 0.4
            pos_hint: {'center_x': .5, 'center_y': .5}
            padding_y: ( self.height - self.line_height ) / 2
            background_normal: ''
            background_color: C('#3BC87F')
            multiline: 'False'


        Label:
            text: 'Implemento 1:'
        CheckBox:
            id: chk_implemento1
            font_size: '20sp'
            font_name: '../data/fonts/Segoe_UI.ttf'
            on_active: root.ids.txtInp_implemento1.readonly=False
        TextInput:
            id: txtInp_implemento1
            text: ''
            font_size: '20sp'
            font_name: '../data/fonts/Segoe_UI.ttf'
            size_hint: 0.2, 0.4
            pos_hint: {'center_x': .5, 'center_y': .5}
            padding_y: ( self.height - self.line_height ) / 2
            background_normal: ''
            background_color: C('#3BC87F')
            multiline: 'False'
            readonly: 'True'
            input_type: 'number'

        Label:
            text: 'Implemento 2:'
        CheckBox:
            id: chk_implemento2
            font_size: '20sp'
            font_name: '../data/fonts/Segoe_UI.ttf'
            on_active: root.ids.txtInp_implemento2.readonly=False
        TextInput:
            id: txtInp_implemento2
            text: ''
            font_size: '20sp'
            font_name: '../data/fonts/Segoe_UI.ttf'
            size_hint: 0.2, 0.4
            pos_hint: {'center_x': .5, 'center_y': .5}
            padding_y: ( self.height - self.line_height ) / 2
            background_normal: ''
            background_color: C('#3BC87F')
            multiline: 'False'
            readonly: 'True'

    GridLayout:
        cols: 6
        pos_hint: {'center_y': 0.12, 'center_x': 0.5}

        Label:
            text: 'Diurno:'
            font_name: '../data/fonts/Segoe_UI.ttf'
        CheckBox:
            group: 'a'
            on_release: True
            active: False

        Label:
            text: 'Noturno:'
            font_name: '../data/fonts/Segoe_UI.ttf'
        CheckBox:
            group: 'a'
            on_release: True
            active: False

        Label:
            text: 'Vespertino:'
            font_name: '../data/fonts/Segoe_UI.ttf'
        CheckBox:
            group: 'a'
            on_release: True
            active: False

    Button:
        id: btn_startApontamento
        text: 'Avançar'
        font_name: '../data/fonts/Segoe_UI.ttf'
        background_normal: ''
        background_color: C('#00B357')
        size_hint_x: 1
        size_hint_y: .3/4
        y: 1


<ConfiguracoesScreen@Screen>:
    canvas:
        Color:
            rgb: C('#111111')
        Rectangle:
            pos: self.pos
            size: self.size
    BoxLayout:
        orientation: 'vertical'
        padding: 60
        pos_hint: {'center_y': 0.6, 'center_x': 0.5}

        Button:
            on_press: root.manager.current = 'start_screen'
            id: btn_back
            size_hint: None, None
            pos_hint: {'right': 0.1 , 'y': 0.01}
            background_normal: ''
            background_color: C('#111111')
            Image:
                source: '../data/img/Return-64.png'
                center_x: self.parent.center_x
                center_y: self.parent.center_y
                size: 35, 35
                allow_stretch: True

        Label:
            id: lb_codEquip
            text: 'Informe o código do equipamento:'
            font_size: '20sp'
            font_name: '../data/fonts/Segoe_UI.ttf'
            halign: 'center'

        TextInput:
            id: txtInp_codEquip
            text: ''
            font_size: '20sp'
            font_name: '../data/fonts/Segoe_UI.ttf'
            size_hint: 0.2, 0.4
            pos_hint: {'center_x': .5, 'center_y': .5}
            padding_y: ( self.height - self.line_height ) / 2
            background_normal: ''
            background_color: C('#3BC87F')
            multiline: 'False'

        Label:
            id: lb_codOpera
            text: 'Informe o código do operador:'
            font_size: '20sp'
            font_name: '../data/fonts/Segoe_UI.ttf'

        TextInput:
            id: txtInp_codOpera
            text: ''
            font_size: '20sp'
            font_name: '../data/fonts/Segoe_UI.ttf'
            size_hint: 0.2, 0.4
            pos_hint: {'center_x': .5, 'center_y': .5}
            padding_y: ( self.height - self.line_height ) / 2
            background_normal: ''
            background_color: C('#3BC87F')
            multiline: 'False'

    StackLayout:
        pos_hint: {'center_x': .8, 'center_y': 0.03}
        orientation: 'bt-rl'
        padding: 5
        size_hint_x: .6
        size_hint_y: .3/4

        Button:
            id: btn_salvar
            text: 'Salvar'
            background_normal: ''
            background_color: C('#00B357')

        Button:
            id: btn_log_envio
            text: 'Log de envio'
            background_normal: ''
            background_color: C('#00B357')






